<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../bower_components/neon-animation/neon-animation.html">
<link rel="import" href="../bower_components/neon-animation/neon-animations.html">

<dom-module id="cts-squares">
  <template>

    <style>
      .header {
        height: 40%;
        background: var(--color-one);
      }
      .body {
        text-align: center;
        padding: 8px;
      }
      .square {
        display: inline-block;
        width: 150px;
        height: 150px;
        margin: 8px;
        background: var(--color-two);
      }
    </style>

    <div id="header" class="header"></div>

    <div class="body">
      <div class="square"></div>
      <div class="square"></div>
      <div class="square"></div>
      <div class="square"></div>
    </div>

  </template>

  <script>
    Polymer({

      is: 'cts-squares',

      behaviors: [Polymer.NeonSharedElementAnimatableBehavior],

      properties: {

        sharedElements: {
          value: function() {
            return {
              'hero': this.$.header
            }
          }
        },

        animationConfig: {
          value: function() {
            var squares = Polymer.dom(this.root).querySelectorAll('.square');
            var squaresArray = Array.prototype.slice.call(squares);
            return {

              'entry': [{
                name:'hero-animation',
                id: 'hero',
                toPage: this
              }, {
                name: 'cascaded-animation',
                animation: 'transform-animation',
                transformFrom: 'translateY(100%)',
                nodes: squaresArray
              }],

              'exit': [{
                name:'slide-up-animation',
                node: this.$.header
              }, {
                name: 'cascaded-animation',
                animation: 'transform-animation',
                transformTo: 'translateY(60vh)',
                nodes: squaresArray
              }]
            };
          }
        }

      }

    });
  </script>
</dom-module>
