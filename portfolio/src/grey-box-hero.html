<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../bower_components/iron-media-query/iron-media-query.html">
<link rel="import" href="../bower_components/neon-animation/neon-animation.html">
<link rel="import" href="../bower_components/neon-animation/neon-animations.html">

<dom-module id="grey-box-hero" attributes="query">
  <template>

    <style>
      :host {
        @apply(--layout-fullbleed);
        overflow: hidden;
      }
      .container {
        max-width: 77.5rem;
        padding: 0 1.5rem;
        margin: 0 auto;
        @apply(--layout-horizontal);
        @apply(--layout-justified);
      }
      .container > div {
        margin-top: 6.75rem;
      }
      .heroContainer {
        max-width: 42rem;
      }
      .heroContainer > div {
        margin-bottom: 1rem;
      }
      .compressor {
        width: 35rem;
      }
      .button {
        display: inline-block;
        padding: 1rem;
        border: 1px solid lightgrey;
        border-radius: 5px;
        cursor: pointer;
        /* transition: background 0.3s, box-shadow 0.3s, transform 0.3s; */
      }
      .button:hover {
        color: white;
        background: lightgrey;
        /* box-shadow: 0 4px 7px rgba(0, 0, 0, 0.28);
        transform: translateY(-0.25rem); */
      }
      .heroLink {

      }
      #logo {
        width: 62px;
        height: 93px;
        background: lightgrey;
      }
      #sub-title {

      }
      #title {

      }
      #hero-links {
        @apply(--layout-horizontal);
      }
      #divider {
        margin: 0 1rem;
      }
      /* Mobile Screen Layout Styles */
      .container[mobile-layout] {
        @apply(--layout-horizontal);
      }
      .container[mobile-layout] > div {
        margin-top: 2rem;
      }
      .container[mobile-layout] .heroContainer > div {
        text-align: center;
        @apply(--layout-center-justified);
      }
      .container[mobile-layout] .compressor {
        display: none;
      }
      .container[mobile-layout] .button {
        display: block;
      }
      .container[mobile-layout] #logo {
        width: 28px;
        height: 42px;
        margin: 0 auto 1rem auto;
      }
    </style>

    <iron-media-query
      query="{{query}}"
      query-matches="{{smallScreen}}">
    </iron-media-query>

    <div class="container" mobile-layout$="{{smallScreen}}">
      <div id="heroContainer" class="heroContainer">
        <div id="logo"></div>
        <div id="sub-title">OSPREY DAWN IS</div>
        <div id="title">MAX O'BRIEN</div>
        <div id="hero-links">
          <a href="#" class="heroLink" on-tap="showWork">WORK</a><div id="divider">|</div><a href="#" class="heroLink" on-tap="showThoughts">THOUGHTS</a>
        </div>
        <div id="hero-text">
          A User Interface and User Experience Designer with experience in Game Design, User Research, and Product Design.
        </div>
        <div class="button" on-tap="showAbout">More about me.</div>
        <div id="email-link">hello@ospreydawn.com</div>
      </div>
      <div class="compressor"></div>
    </div>

  </template>

  <script>
    Polymer({

      is: 'grey-box-hero',

      behaviors: [
        Polymer.NeonAnimatableBehavior,
        Polymer.NeonAnimationRunnerBehavior
      ],

      properties: {
        animationConfig: {
          value: function() {
            var neonElements = this.$.heroContainer.children;
            var neonArray = Array.prototype.slice.call(neonElements);
            return {
              'entry': [{
                name: 'cascaded-animation',
                animation: 'fade-in-animation',
                nodes: neonArray,
                timing: {
                  delay: 300
                }
              }, {
                name: 'cascaded-animation',
                animation: 'slide-from-left-animation',
                nodes: neonArray,
                timing: {
                  delay: 300
                }
              }],

              'exit': [{
                name: 'cascaded-animation',
                animation: 'fade-out-animation',
                nodes: neonArray
              }, {
                name: 'cascaded-animation',
                animation: 'slide-left-animation',
                nodes: neonArray
              }],
            }
          }
        }
      },

      ready: function() {
        window.addEventListener('WebComponentsReady', function(p) {
          return function() {
            p.loadAnimation();
          }
        }(this));
      },

      loadAnimation: function() {
        var neonElements = this.$.heroContainer.children;
        var neonArray = Array.prototype.slice.call(neonElements);

        this.animationConfig['load-in'] = [{
          name: 'cascaded-animation',
          animation: 'fade-in-animation',
          nodes: neonArray,
          timing: {
            delay: 2500,
            duration: 1000
          }
        }, {
          name: 'cascaded-animation',
          animation: 'slide-from-top-animation',
          nodes: neonArray,
          timing: {
            delay: 2500,
            duration: 1000
          }
        }];
        this.playAnimation('load-in');
      },

      showAbout: function() {
        this.fire('to-about');
      },

      showWork: function() {
        this.fire('show-work');
      },

      showThoughts: function() {
        this.fire('show-thoughts');
      },

      getAnimatable: function() {
        return this.$.heroContainer;
      },

      getHero: function() {
        return this.$.logo;
      }

    });
  </script>
</dom-module>
