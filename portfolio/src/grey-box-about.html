<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../bower_components/iron-media-query/iron-media-query.html">
<link rel="import" href="../bower_components/neon-animation/neon-animation.html">
<link rel="import" href="../bower_components/neon-animation/neon-animations.html">

<link rel="import" href="styles/od-global-styles.html">

<dom-module id="grey-box-about" attributes="query">
  <template>
    <style include="od-global-styles"><style>

    <style>
      td {
        padding: 0.5rem 0 0.25rem 1rem;
      }
      td:nth-child(1) {
        padding-left: 0;
        font-weight: bold;
      }
      td:nth-child(2) {
        padding-left: 1rem;
        color: var(--light-grey);
      }
      td:nth-child(3) {
        padding-left: 1rem;
        text-align: right;
        min-width: 4.5rem;
      }
      .flex {
        @apply(--layout-flex);
      }
      .container {
        max-width: 77.5rem;
        padding: 0 1.5rem;
        margin: 0 auto;
        @apply(--layout-horizontal);
        @apply(--layout-start);
      }
      .container > div {
        margin-top: 6.75rem;
      }
      .aboutContainer {
        max-width: 700px;
        text-align: right;
      }
      .container iron-icon {
        width: 100%;
        height: 100%;
        fill: var(--default-blue);
      }
      #aboutIcon {
        float: right;
        width: 2.25rem;
        height: 2.25rem;
      }
      #xpTable {
        float: right;
        text-align: left;
      }
      #whereDetail {
        float: right;
        @apply(--layout-horizontal);
      }
      #countryIcon {
        width: 90px;
        height: 90px;
        margin-top: 1.5rem;
        margin-right: 1rem;
      }
      #contactDetail {
        @apply(--layout-vertical);
      }
      /* Mobile Screen Layout Styles */
      .container[mobile-layout] td:nth-child(3) {
        width: 5.25rem;
        padding-left: 0;
      }
      .container[mobile-layout] .flex {
        display: none;
      }
      .container[mobile-layout]{
        @apply(--layout-vertical);
      }
      .container[mobile-layout] > div {
        margin: 1rem 0;
      }
      .container[mobile-layout] .aboutContainer {
        position: relative;
        text-align: center;
        top: -5rem;
        z-index: 1;
      }
      .container[mobile-layout] .button {
        position: relative;
        z-index: 2;
      }
      .container[mobile-layout] #aboutIcon {
        float: none;
        margin: 0 auto;
      }
      .container[mobile-layout] #xpTable {
        float: none;
        margin: 0 auto;
      }
      .container[mobile-layout] #whereDetail {
        float: none;
        @apply(--layout-horizontal);
        @apply(--layout-around-justified);
      }
    </style>

    <iron-media-query
      query="{{query}}"
      query-matches="{{smallScreen}}">
    </iron-media-query>

    <div class="container" mobile-layout$="{{smallScreen}}">
      <div id="backBtn" class="button" on-tap="showHero">&#8592;</div>
      <span class="flex"></span>
      <div id="aboutContainer" class="aboutContainer">
        <div id="aboutDetail">
          <div id="aboutIcon"><iron-icon icon="od-icons:info"></iron-icon></div>
          <div style="clear: right;"></div>
          <h2>About Me</h2>
          <p>
            Art & design is in my blood and has been since I first put a pencil to paper at elementary school.
            Growing up surrounded by technology allowed me to latch on to new concepts and techniques at an early age.
            Today my convictions are as strong as they have ever been as Iâ€™m constantly striving to improve myself
            and spread the wonder that is elegant design.
          </p>
        </div>
        <div id="xpDetail">
          <h3>Experience</h3>
          <table id="xpTable">
            <tbody>
              <tr>
                <td>Alphero</td>
                <td>UI & Motion Designer</td>
                <td>JUL 15 - NOV 15</td>
              </tr>
              <tr>
                <td>ClickSuite</td>
                <td>User Researcher, UX Designer</td>
                <td>FEB 15 - JUL 15</td>
              </tr>
              <tr>
                <td>Binge List</td>
                <td>Product Designer</td>
                <td>NOV 14 - JAN 15</td>
              </tr>
              <tr>
                <td>Fiero</td>
                <td>Co-Founder</td>
                <td>DEC 12 - APR 14</td>
              </tr>
            </tbody>
          </table>
          <div style="clear: right;"></div>
        </div>
        <div id="whereDetail">
          <div id="countryIcon"><iron-icon icon="od-icons:nz"></iron-icon></div>
          <div id="whereText">
            <h3>Where am I?</h3>
            <p>New Zealand</p>
          </div>
        </div>
        <div style="clear: right;"></div>
        <div id="contactDetail">
          <h3>Get in touch</h3>
          <a href="https://twitter.com/ospreydawn">@OspreyDawn</a>
          <a href="mailto:hello@ospreydawn.com">hello@ospreydawn.com</a>
        </div>
      </div>
    </div>

  </template>

  <script>
    Polymer({

      is: 'grey-box-about',

      behaviors: [Polymer.NeonAnimatableBehavior],

      properties: {
        animationConfig: {
          value: function() {
            var neonElements = this.$.aboutContainer.children;
            var neonArray = Array.prototype.slice.call(neonElements);
            neonArray.push(this.$.backBtn);

            return {
              'entry': [{
                name: 'cascaded-animation',
                animation: 'fade-in-animation',
                nodes: neonArray,
                timing: {
                  delay: 300
                }
              }, {
                name: 'cascaded-animation',
                animation: 'slide-from-right-animation',
                nodes: neonArray,
                timing: {
                  delay: 300
                }
              }],

              'exit': [{
                name: 'cascaded-animation',
                animation: 'fade-out-animation',
                nodes: neonArray
              }, {
                name: 'cascaded-animation',
                animation: 'slide-right-animation',
                nodes: neonArray
              }]
            }
          }
        }
      },

      getAnimatable: function() {
        return this.$.aboutContainer;
      },

      showHero: function() {
        window.location = '#/Home';
      }

    });
  </script>
</dom-module>
